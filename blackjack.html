<!DOCTYPE html>
<html>

<head>
  <title>BlackJack.</title>
  
 
</head>

<script>
  
//2 function chia bai
  
function getTheSuit()
{
  suit = Math.floor(Math.random() * 4) + 1
  if(suit == 1)
{
  return "Hearts";
}
if(suit == 2)
{
  return "Diamonds";
}
if(suit == 3)
{
  return "Spades";
}
if(suit == 4)
{
  return "Clubs";
  }
}
function getACard(turn)
{
  card = Math.floor(Math.random() * 13) + 1
  suit = getTheSuit();
  if(card == 1)
{
  return 11;
}
if(card > 10)
{
  return 10;
}

return card;
}

var counter = 0;

//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
  
function GenerateNewCard()
{
  counter +=1;
  var d = document.getElementById("HUMan").innerHTML = "";
  var e = document.getElementById("COMPuter").innerHTML = "";
  var f = document.getElementById("COUNT").innerHTML = counter;
  var a = parseInt(document.getElementById("dealer").value = 0);
  var res = document.getElementById("dealer");
  var aa = parseInt(document.getElementById("you").value = 0);
  var resa = document.getElementById("You");
  resa.value = a + getACard("You");
  res.value = aa + getACard("Dealer");
}

//function kiem tra, neu dealer co > 17 diem thi dung bai    
function COMPUTER()
{
  var a = parseInt(document.getElementById("dealer").value);
  var res = document.getElementById("dealer");
  while(res.value < 17)
  {
  var b = parseInt(document.getElementById("dealer").value);
  res.value = b + getACard("Dealer");
  }
}
  
  
//function kiem tra, nguoi choi co > 21 diem thi thua  
function HUMAN()
{
  var a = parseInt(document.getElementById("you").value);
  var res = document.getElementById("you");
  res.value = a + getACard("You");
  if(res.value > 21)
  {
    whoWonC += 1;
    document.getElementById("COMPuterWon").innerHTML = whoWonC;
    var a = document.getElementById("COMPuter").innerHTML = "I WIN";
  }
}
var whoWonH = 0;
var whoWonC = 0;
  
  
//
function determineWinner()
{
    var a = parseInt(document.getElementById("you").value);
    var b = parseInt(document.getElementById("dealer").value);
    if(b > 21)
{
    whoWonH += 1;
    document.getElementById("HUManWon").innerHTML = whoWonH;
    var winner = document.getElementById("HUMan").innerHTML = "I WIN";
    return;
}
  if(a==b)
  {
    var a = document.getElementById("HUMan").innerHTML = "TIE";
    var b = document.getElementById("COMPuter").innerHTML = "TIE";
  }
  if(a>b)
  {
    whoWonH += 1;
    document.getElementById("HUManWon").innerHTML = whoWonH;
    var a = document.getElementById("HUManWon").innerHTML = "I WIN";
  }
  if(b>a)
  {
    whoWonC += 1;
    document.getElementById("COMPuterWon").innerHTML = whoWonC;
    var g = document.getElementById("COMPuter").innerHTML = "I WIN!";
  }
}

</script>

<body>
<div>
  <h2>Lets Play BlackJack</h2>

  <center>
    Dealer:<input type="text" id="dealer">
    <br> Player:
    <input type="text" id="you">
    <br>
    <input type=button value="HIT" onClick="HUMAN()">
    <input type=button value="STAND" onClick="COMPUTER();determineWinner();">
    <input type=button value="DEAL" onClick="GenerateNewCard()">
    <br>
    <br>
  </center>
  <center>
    <table id="resultat">
      <tr>
        <th>HUMAN</th>
        <th>COMPUTER</th>
        <th>Games Played</th>
      </tr>
      <tr>
        <td id="HUMan"></td>
        <td id="COMPuter"></td>
        <td id="COUNT"></td>
      </tr>
    </table>
  </center>
  <br>
  <center>
    <h2>Stats</h2>
    <table id="stat">
      <tr>
        <th>Player</th>
        <th>Dealer</th>
      </tr>
      <td id="HUManWon"></td>
      <td id="COMPuterWon"></td>
      </div>
    </table>
  </center>
</body>

</html>ï»¿
